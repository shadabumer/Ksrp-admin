<div class="card mb-3">
    <div class="card-header"><h5>Customers Info</h5></div>
    <div class="card-body table-responsive">
      <p *ngIf="!isUsersLoaded">Loading...</p>
        <table datatable class="table table-hover table-striped" id="item-table" *ngIf="isUsersLoaded">
            <thead>
            <tr>
                <th>#</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Mobile</th>
                <th>Address</th>
                <th>Remove</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let user of users; let i = index;">
              <td class="align-middle">{{ i + 1 }}</td>
              <td class="align-middle">{{ user.firstName }}</td>
              <td class="align-middle">{{ user.lastName }}</td>
              <td class="align-middle">{{ user.email }}</td>
              <td class="align-middle">{{ user.mobile }}</td>
              <td class="align-middle">
                <button class="btn btn-info" (click)="viewAddress(user)"
                placement="left"
                [ngbPopover]="address" 
                popoverTitle="Address">view</button>
                <ng-template #address>
                    <div *ngIf="currentAddress">
                      <p><small>House No: {{ currentAddress.houseNo}}</small></p>
                      <p><small>Building Name: {{ currentAddress.buildingName }}</small></p>
                      <p><small>Area details: {{ currentAddress.areaDetails }}</small></p>
                      <p><small>City: {{ currentAddress.city }}</small></p>
                      <p><small>Pincode: {{ currentAddress.pincode }}</small></p>
                    </div>
                    <div *ngIf="!currentAddress">
                      <p>Address is not available</p>
                    </div>
                </ng-template>
              </td>
              <td class="align-middle">
                <button class="btn btn-danger" (click)="deleteModal(user)"><i class="fa fa-times" aria-hidden="true"></i></button>
              </td>
            </tr>
            </tbody>
        </table>
    </div>
  </div>
  